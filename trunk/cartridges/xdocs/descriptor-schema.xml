<document> 
	<properties>
    	<title>Cartridge Descriptor Schema</title> 
    </properties>
  	<body> 
  		<section name="Cartridge Descriptor Schema">
			<p>
  				Each Cartridge descriptor (andromda-cartridge.xml) must comply with the following XSD Schema: 
  			</p>
			<source>
				<![CDATA[
<?xml version="1.0" encoding="UTF-8"?>

<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified">
    <xs:element name="cartridge">
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="class" minOccurs="0" maxOccurs="1"/>
                <xs:element ref="templateEngine" minOccurs="0" maxOccurs="1"/>
                <xs:element ref="templateObject" minOccurs="0" maxOccurs="unbounded"/>
                <!-- these are references to properties that are expected to 
                     be supplied by the calling client through a <namespace/> element. 
                     When the property name and its value are supplied in the build 
                     file for example, that property is then supplied to the template.  -->
                <xs:element ref="property" minOccurs="0" maxOccurs="unbounded"/>
                <xs:element ref="template" minOccurs="1" maxOccurs="unbounded"/>
            </xs:sequence>
            <xs:attribute name="name" type="xs:string" use="required"/>
        </xs:complexType>
    </xs:element>
    <xs:element name="property">
        <xs:complexType>
            <!-- defines a reference to a <property/> element defined within 
                 a namespace element in your build file -->
            <xs:attribute name="reference" use="required"/>
        </xs:complexType>
    </xs:element>
    <!-- this is the grouping of all modelElements supporeted within a template -->
    <xs:element name="modelElements">
        <xs:complexType>
            <xs:sequence>
                <!-- You can define as many modelElements as you want -->
                <xs:element ref="modelElement" minOccurs="1" maxOccurs="unbounded"/>
            </xs:sequence>
            <!-- the default variable name to use for any modelElements define in your <template/>
                 element, this will be used if no variable attribute is defined at the
                 <modelElement/> element -->
            <xs:attribute name="variable" type="xs:string" use="required"/>
        </xs:complexType>
    </xs:element>
    <xs:element name="modelElement">
        <xs:complexType>
            <!-- a stereotype name from the model that will be processed (i.e. entity, enumeration, etc.) -->
            <xs:attribute name="stereotype" use="required"/>
            <!-- defines the variable name that should be placed into the template engine context,
                 for all model elements having the modelElement with the stereotype attribute, 
                 if this is not defined, then the variable from the 
                 enclosing <modelElements/> element will be used. -->
            <xs:attribute name="variable" use="optional"/>
        </xs:complexType>
    </xs:element>
    <xs:element name="template">
        <xs:complexType>
            <!-- You can have as many modelElements as you want for a template -->
            <xs:sequence>
                <xs:element ref="modelElements" minOccurs="1" maxOccurs="1"/>
            </xs:sequence>
            <!-- the template to process -->
            <xs:attribute name="sheet" type="xs:string" use="required"/>
            <!-- the pattern to output {0} - represents the package, {1}, 
                  represents the class name -->
            <xs:attribute name="outputPattern" type="xs:string" use="required"/>
            <!-- the location where the output of the run will be generated (this will be
                 retrieved from a namespace property defined in your build file)-->
            <xs:attribute name="outlet" type="xs:string" use="required"/>
            <!-- true/false on whether we should overwrite results of previous run -->
            <xs:attribute name="overWrite" type="xs:boolean" use="required"/>
            <!-- true/false on whether we should allow generation of empty files-->
            <xs:attribute name="generateEmptyFiles" type="xs:boolean"/>
            <!-- if this flag is set to true, then all model elments
                 processed by the template will be output to one template as
                 a collection of model elements (instead of on a per model 
                 element per file basis) -->
            <xs:attribute name="outputToSingleFile" type="xs:string" use="optional"/>
        </xs:complexType>
    </xs:element>
    <xs:element name="templateObject">
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="property" minOccurs="0"/>
            </xs:sequence>
            <!-- the name of the templateObject (this is the scripting variable name 
                 made available to the template being processed) -->
            <xs:attribute name="name" type="xs:string" use="required"/>
            <!-- the class of the templateObject (must have a default constructor) -->
            <xs:attribute name="className" type="xs:string" use="required"/>
        </xs:complexType>
    </xs:element>
    <!-- Defines a macro library that can be used with commonly used scripting engine macros -->
    <xs:element name="macrolibrary">
        <xs:complexType>
            <xs:attribute name="name" type="xs:string" use="required"/>
        </xs:complexType>
    </xs:element>
    <!-- defines a cartridge class that may override the existing default cartridge class implementation -->
    <xs:element name="class">
        <xs:complexType>
            <xs:attribute name="name" type="xs:string" use="required"/>
        </xs:complexType>
    </xs:element>	
    <!-- you configure the template engine through here -->
    <xs:element name="templateEngine">
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="macrolibrary" minOccurs="0" maxOccurs="unbounded"/>
            </xs:sequence>
            <!-- the class of the TemplateEngine implementation (must have a default constructor) -->
            <xs:attribute name="className" type="xs:string" use="optional"/>
        </xs:complexType>
    </xs:element>	
</xs:schema>
				]]>
	  		</source>
  		</section>  	
  	</body> 
</document>