// Generated by andromda-angular cartridge (view\components\component.ts.vsl) DO NOT EDIT
import {
  AfterViewInit,
  Component,
  inject,
  Input,
  OnDestroy,
  OnInit,
  ViewChild,
} from "@angular/core";
import {COMMA, ENTER} from '@angular/cdk/keycodes';
import {
  FormsModule,
  ReactiveFormsModule,
  FormGroup,
  FormControl,
  FormBuilder,
  Validators,
  FormArray,
} from "@angular/forms";
import { SelectItem } from "@app/utils/select-item";
#if($component.treePresent)
import { CdkTreeNodeDef, CdkTreeNodeOutlet, CdkTreeNodeToggle, FlatTreeControl, NestedTreeControl } from '@angular/cdk/tree';
import { MatTreeModule, MatTreeNestedDataSource } from '@angular/material/tree';
import { TreeOption } from '@app/model/tree-option.model';
import { AsTreeNodePipe } from '@app/pipe/tree-node.pipe';
import { DynamicTreeNode } from '@app/model/dynamic-tree-node.model';
import {CollectionViewer, SelectionChange, DataSource} from '@angular/cdk/collections';
#end
## #if($component.tableVariablesPresent)
import { MatTableDataSource } from '@angular/material/table';
import { MatPaginator } from '@angular/material/paginator';
import { MatSort } from '@angular/material/sort';
import { TableComponent } from '@app/components/table/table.component';
## #end
import { MatSelectChange } from '@angular/material/select';
import { MatRadioChange } from '@angular/material/radio';
import { MatCheckboxChange } from '@angular/material/checkbox';
import { MatChip, MatChipInput, MatChipInputEvent } from "@angular/material/chips";
import {MatAutocompleteSelectedEvent, MatAutocompleteModule} from '@angular/material/autocomplete';
##if($targetModal)
import { MatDialog } from '@angular/material/dialog';
##end
import { firstValueFrom, Observable, map, of, startWith, Subscription } from "rxjs";
import { CommonModule } from '@angular/common';
import { TranslateModule } from '@ngx-translate/core';
import { MaterialModule } from '@app/material.module';
import { CsvModule } from '@ctrl/ngx-csv';
#set($fields = [])
#set($buttons = [])
#foreach($import in $component.imports)
#if($metafacadeWebUtils.isComponent($import))
import { ${import.name} } from '@app/components/${import.filePath}';
#else
#if($import.attributes && $import.attributes.size() > 0 && !$import.enumeration)
#if($import.type)
#set ( $rt = $fields.add($import.type) )
#else
#set ( $rt = $fields.add($import) )
#end
#end
#if ($import.restCount>0 && $stringUtils.isNotBlank($import.restPath))
import { $import.name } from '@app/${import.filePath}';
#elseif(${import.hasStereotype("FrontEndComponent")})
import { $import.implementationName } from '@app/components/${import.implementationFilePath}';
#elseif($import.tableComponentImplementationName)
import { $import.tableComponentImplementationName } from '@app/${import.implementationFilePath}';
#elseif($import.componentImplementationName)
import { $import.componentImplementationName } from '@app/${import.implementationFilePath}';
#elseif(${import.implementationFilePath})
import { $import.implementationName } from '@app/${import.implementationFilePath}';
#else
import { $import.name } from '@app/${import.filePath}';
#end
#end
#end
import { SearchObject } from '@app/model/search-object';

@Component({
  selector: "app-${component.selectorName}-base",
  template: "",
})
export abstract class ${component.name} implements OnInit, OnDestroy, AfterViewInit {

    separatorKeysCodes: number[] = [ENTER, COMMA];
    @Input() ${component.beanName}Form: FormGroup;
#if($component.treePresent)
    protected readonly TreeOption = TreeOption;

#end

#foreach($attribute in $component.attributes)
#renderAngularTypescriptParams($attribute "" true "    ")
#end

    private formBuilder = inject(FormBuilder);
    constructor(
    ) {
#foreach($attribute in $component.attributes)
#renderAngularTypescriptConstructor($attribute "" true "           ")
#end
    }

    #if($component.treePresent)async #{end}ngOnInit() {
        if(!this.${component.beanName}Form) {
            this.initForm();
        }
#foreach($attribute in $component.attributes)
#if($attribute.tree)
        
        await this.load${stringUtils.capitalize($attribute.name)}RootNodes();

#end
#end
    }

    ngOnDestroy() {}

    ngAfterViewInit() {

    }

    initForm() {
        this.${component.beanName}Form = this.formBuilder.group({
#foreach($attribute in $component.attributes)
#renderInitForm($attribute "" "           ")
#end
        });
    }
#foreach($attribute in $component.attributes)
#renderAttributeFormCreation($attribute "" "           ")
#end

#foreach($attribute in $component.attributes)
#renderAttributeMethods($attribute "" "           ")
#end
}